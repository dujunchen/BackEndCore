### 跳跃表

1. 跳跃表时一种有序数据结构，通过每个节点中维护多个指针指向其他节点，达到快速访问节点的目的。

2. 跳跃表节点查找复杂度最坏O(N)，平均O(logN)。可以使用跳跃表代替平衡树。

3. redis中采用跳跃表来实现有序集合键（SortedSet）和集群节点中内部数据结构。

4. redis中跳跃表分成跳跃表节点（zskiplistNode）和跳跃表（zskiplist）。
   
   - zskiplistNode
     
     包含属性：层level、后退指针forward、分值score、成员对象obj
     
     1. 层level
        
        level是一个数组，可以包含多个元素，每个元素包含2个属性：前进指针forward和跨度span。forword用来访问下一个节点，跨度表示两个节点的距离。在遍历查找某个节点过程中，将沿途所有的span加起来的结果称为该节点在跳跃表中的排位。指向NULL的前进指针跨度为0。一般来说，层的数量越多，访问其他节点的速度越快。
     
     2. 后退指针forward
        
        每个节点只有一个后退指针，每次只能退到前一个节点。
     
     3. 分值score
        
        节点的分值是double类型，跳跃表中所有节点按照分值从小到大排序。
        
        节点的分值可以重复相同。相同分值的节点将按照obj的字典顺序大小从小到大排序。
     
     4. 成员对象obj
        
        obj指向一个SDS值。
        
        同一个跳跃表中，obj必须唯一。
   
   - zskiplist
     
     包含属性：表头节点head、表尾节点tail、节点数量length（不包含表头节点）、表中最大层数level（不包含表头节点）
     
     使用zskiplist的各属性可以使程序定位表头节点、表尾节点、返回跳跃表长度、最大层数的复杂度O(1)。